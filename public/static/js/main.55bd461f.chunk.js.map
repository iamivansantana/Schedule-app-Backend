{"version":3,"sources":["helpers/fetch.js","types/typess.js","helpers/transformEvent.js","actions/eventsActions.js","actions/authActions.js","hooks/useForm.js","components/auth/LoginScreen.js","components/ui/NavBar.js","helpers/calendar-messages-es-.js","components/calendar/CalendarEvent.js","actions/uiActions.js","components/calendar/CalendarModal.js","components/ui/AddNewFab.js","components/ui/DeleteEventFab.js","components/calendar/CalendarScreen.js","routers/PrivateRoute.js","routers/PublicRoute.js","routers/AppRouter.js","reducers/authReducer.js","reducers/calendarReducer.js","reducers/uiReducers.js","reducers/rootReducer.js","store/store.js","ScheduleApp.js","index.js"],"names":["baseUrl","process","fetchSinToken","endpoint","data","method","url","fetch","headers","body","JSON","stringify","fetchConToken","token","localStorage","getItem","types","transformEvent","events","map","e","end","moment","toDate","start","eventAddNew","event","type","payload","eventCleanActive","eventUpdated","eventDeleted","eventsLoaded","checkingFinish","login","user","startLogOut","dispatch","clear","logOut","useForm","initialState","useState","values","setValues","reset","handleInputChange","target","name","value","LoginScreen","useDispatch","lEmail","lPassword","formLoginValues","handleLoginInputChange","rName","rEmail","rPassword1","rPassword2","formRegisterValues","handleRegisterInputChange","className","onSubmit","email","password","preventDefault","a","respuesta","json","ok","setItem","Date","getTime","uid","Swal","fire","msg","placeholder","onChange","NavBar","useSelector","state","auth","style","textTransform","onClick","messages","allDay","previous","next","today","month","week","day","agenda","date","time","noEventsInRange","showMore","total","CalendarEvent","title","uiOpenModal","customStyles","content","top","left","right","bottom","marginRight","transform","Modal","setAppElement","now","minutes","seconds","add","nowPlus1","clone","initEvent","notes","CalendarModal","modalOpen","ui","activeEvent","calendar","dateStart","setDateStart","dateEnd","setDateEnd","titleValid","setTitleValid","formValues","setFormValues","useEffect","closeModal","console","log","isOpen","onRequestClose","closeTimeoutMS","overlayClassName","momentStart","momentEnd","isSameOrAfter","trim","length","id","resp","getState","evento","_id","eventStartAddNew","minDate","autoComplete","rows","AddNewFab","DeleteEventFab","locale","localizer","momentLocalizer","CalendarScreen","lastView","setLastView","eventos","startAccessor","endAccessor","height","eventPropGetter","isSelecter","backgroundColor","borderRadius","opacity","display","color","onDoubleClickEvent","onSelectEvent","onView","onSelectSlot","selectable","view","components","PrivateRoute","isAuthenticated","Component","component","rest","location","pathname","props","to","PublicRoute","AppRouter","checking","exact","path","rootReducer","combineReducers","action","filter","store","createStore","composeWithDevTools","applyMiddleware","thunk","ScheduleApp","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.55bd461f.chunk.js","sourcesContent":["const baseUrl = process.env.REACT_APP_API_URL;\r\n\r\nexport const fetchSinToken = (endpoint, data, method = 'GET') => {\r\n\tconst url = `${baseUrl}/${endpoint}`;\r\n\r\n\tif (method === 'GET') {\r\n\t\treturn fetch(url);\r\n\t} else {\r\n\t\treturn fetch(url, {\r\n\t\t\tmethod,\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-type': 'application/json',\r\n\t\t\t},\r\n\t\t\tbody: JSON.stringify(data),\r\n\t\t});\r\n\t}\r\n};\r\nexport const fetchConToken = (endpoint, data, method = 'GET') => {\r\n\tconst url = `${baseUrl}/${endpoint}`;\r\n\tconst token = localStorage.getItem('token') || '';\r\n\r\n\tif (method === 'GET') {\r\n\t\treturn fetch(url, {\r\n\t\t\tmethod,\r\n\t\t\theaders: {\r\n\t\t\t\t'x-token': token,\r\n\t\t\t},\r\n\t\t});\r\n\t} else {\r\n\t\treturn fetch(url, {\r\n\t\t\tmethod,\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-type': 'application/json',\r\n\t\t\t\t'x-token': token,\r\n\t\t\t},\r\n\t\t\tbody: JSON.stringify(data),\r\n\t\t});\r\n\t}\r\n};\r\n","export const types = {\r\n\tuiOpenModal: '[ui] Open modal',\r\n\tuiCloseModal: '[ui] Close modal',\r\n\r\n\teventSetActive: '[event] Set active',\r\n\teventLogOut: '[event] Clean state events',\r\n\r\n\teventStartAddNew: '[event] Start add new',\r\n\teventAddNew: '[event] Add new',\r\n\teventCleanActive: '[event] Clean active',\r\n\teventUpdated: '[event] Event Updated',\r\n\teventDeleted: '[event] Event Deleted',\r\n\teventsLoaded: '[event] Events Loaded',\r\n\r\n\tauthCheckinFinish: '[auth] Finish checking Login state',\r\n\tauthStartLogin: '[auth] Start Login',\r\n\tauthLogin: '[auth] Login',\r\n\tauthStartRegister: '[auth] Start Register',\r\n\tauthStartTokenRenew: '[auth] Start token renew',\r\n\tauthLogout: '[auth] Logout',\r\n};\r\n","//helper para transformar la fecha del evento(end & start) de 'string' a tipo Date.\r\n\r\nimport moment from 'moment';\r\n\r\nexport const transformEvent = (events = []) => {\r\n\treturn events.map((e) => ({\r\n\t\t...e,\r\n\t\tend: moment(e.end).toDate(),\r\n\t\tstart: moment(e.start).toDate(),\r\n\t}));\r\n};\r\n","import Swal from 'sweetalert2';\r\nimport { fetchConToken } from '../helpers/fetch';\r\nimport { transformEvent } from '../helpers/transformEvent';\r\nimport { types } from '../types/typess';\r\n\r\n//recibe el event (nuevo evento del calendario con titulo, notas, fecha de inicio, fecha de fin)\r\nexport const eventStartAddNew = (event) => {\r\n\treturn async (dispatch, getState) => {\r\n\t\tconst { uid, name } = getState().auth;\r\n\t\ttry {\r\n\t\t\tconst resp = await fetchConToken('events', event, 'POST');\r\n\t\t\tconst body = await resp.json();\r\n\r\n\t\t\t//Si la peticion se cumplio\r\n\t\t\tif (body.ok) {\r\n\t\t\t\t//agregamos el id y el user de redux al evento por que la respuesta solo trae el user id\r\n\t\t\t\t//se podria modificar el backen o hacer una nueva consulta mandando el id y que retorne los datos del usuario.\r\n\t\t\t\tevent.id = body.evento.id;\r\n\t\t\t\tevent.user = {\r\n\t\t\t\t\t_id: uid,\r\n\t\t\t\t\tname: name,\r\n\t\t\t\t};\r\n\r\n\t\t\t\t//Se hace el dispatch del evento recibido en el metodo y no el evento recivido (que se guardo) en la respuesta de la api\r\n\t\t\t\t//porque la respuesta de la api el evento la fecha(Date) es un string y para evitar convertir se toma el que es tipo date, ya que es el mismo evento\r\n\t\t\t\tdispatch(eventAddNew(event));\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log(error);\r\n\t\t}\r\n\t};\r\n};\r\n\r\nconst eventAddNew = (event) => ({\r\n\ttype: types.eventAddNew,\r\n\tpayload: event,\r\n});\r\n\r\nexport const eventSetActive = (event) => ({\r\n\ttype: types.eventSetActive,\r\n\tpayload: event,\r\n});\r\nexport const eventCleanActive = () => ({\r\n\ttype: types.eventCleanActive,\r\n});\r\n\r\n//Actualizar base de dato\r\nexport const eventStartUpdate = (event) => {\r\n\treturn async (dispatch) => {\r\n\t\ttry {\r\n\t\t\tconst resp = await fetchConToken(`events/${event.id}`, event, 'PUT');\r\n\t\t\tconst body = await resp.json();\r\n\r\n\t\t\tif (body.ok) {\r\n\t\t\t\tdispatch(eventUpdated(event));\r\n\t\t\t} else {\r\n\t\t\t\tSwal.fire('Error', body.msg, 'error');\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log(error);\r\n\t\t}\r\n\t};\r\n};\r\n\r\nconst eventUpdated = (event) => ({\r\n\ttype: types.eventUpdated,\r\n\tpayload: event,\r\n});\r\n\r\nexport const eventStartDelete = () => {\r\n\treturn async (dispatch, getState) => {\r\n\t\tconst { id } = getState().calendar.activeEvent;\r\n\t\tconsole.log(id);\r\n\r\n\t\ttry {\r\n\t\t\tconst resp = await fetchConToken(`events/${id}`, {}, 'DELETE');\r\n\t\t\tconst body = await resp.json();\r\n\r\n\t\t\tif (body.ok) {\r\n\t\t\t\tdispatch(eventDeleted());\r\n\t\t\t} else {\r\n\t\t\t\tSwal.fire('Error', body.msg, 'error');\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log(error);\r\n\t\t}\r\n\t};\r\n};\r\n\r\nconst eventDeleted = () => ({\r\n\ttype: types.eventDeleted,\r\n});\r\n\r\nexport const eventStartLoading = () => {\r\n\treturn async (dispatch) => {\r\n\t\ttry {\r\n\t\t\tconst resp = await fetchConToken('events');\r\n\t\t\tconst body = await resp.json();\r\n\r\n\t\t\t//Esta opcion tambien es aceptada en algunas verciones\r\n\t\t\t// const events = body.eventos;\r\n\t\t\tconst events = transformEvent(body.eventos);\r\n\r\n\t\t\tdispatch(eventsLoaded(events));\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log(error);\r\n\t\t}\r\n\t};\r\n};\r\n\r\nconst eventsLoaded = (events) => ({\r\n\ttype: types.eventsLoaded,\r\n\tpayload: events,\r\n});\r\n\r\nexport const eventsLogOut = () => ({\r\n\ttype: types.eventLogOut,\r\n});\r\n","import Swal from 'sweetalert2';\r\nimport { fetchConToken, fetchSinToken } from '../helpers/fetch';\r\nimport { types } from '../types/typess';\r\nimport { eventsLogOut } from './eventsActions';\r\n\r\nexport const startLogin = (email, password) => {\r\n\treturn async (dispatch) => {\r\n\t\tconst respuesta = await fetchSinToken('auth', { email, password }, 'POST');\r\n\t\tconst body = await respuesta.json();\r\n\r\n\t\tif (body.ok) {\r\n\t\t\tlocalStorage.setItem('token', body.token);\r\n\t\t\tlocalStorage.setItem('token-init-date', new Date().getTime());\r\n\r\n\t\t\tdispatch(\r\n\t\t\t\tlogin({\r\n\t\t\t\t\tuid: body.uid,\r\n\t\t\t\t\tname: body.name,\r\n\t\t\t\t})\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\tSwal.fire('Error', body.msg, 'error');\r\n\t\t}\r\n\t};\r\n};\r\n\r\nexport const startRegister = (email, password, name) => {\r\n\treturn async (dispatch) => {\r\n\t\tconst respuesta = await fetchSinToken(\r\n\t\t\t'auth/new',\r\n\t\t\t{ email, password, name },\r\n\t\t\t'POST'\r\n\t\t);\r\n\t\tconst body = await respuesta.json();\r\n\r\n\t\tif (body.ok) {\r\n\t\t\tlocalStorage.setItem('token', body.token);\r\n\t\t\tlocalStorage.setItem('token-init-date', new Date().getTime());\r\n\r\n\t\t\tdispatch(\r\n\t\t\t\tlogin({\r\n\t\t\t\t\tuid: body.uid,\r\n\t\t\t\t\tname: body.name,\r\n\t\t\t\t})\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\tSwal.fire('Error', body.msg, 'error');\r\n\t\t}\r\n\t};\r\n};\r\n\r\nexport const startChecking = () => {\r\n\treturn async (dispatch) => {\r\n\t\tconst respuesta = await fetchConToken('auth/renew');\r\n\t\tconst body = await respuesta.json();\r\n\r\n\t\tif (body.ok) {\r\n\t\t\tlocalStorage.setItem('token', body.token);\r\n\t\t\tlocalStorage.setItem('token-init-date', new Date().getTime());\r\n\r\n\t\t\tdispatch(\r\n\t\t\t\tlogin({\r\n\t\t\t\t\tuid: body.uid,\r\n\t\t\t\t\tname: body.name,\r\n\t\t\t\t})\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\tdispatch(checkingFinish());\r\n\t\t}\r\n\t};\r\n};\r\n\r\nconst checkingFinish = () => ({ type: types.authCheckinFinish });\r\n\r\nconst login = (user) => ({\r\n\ttype: types.authLogin,\r\n\tpayload: user,\r\n});\r\n\r\nexport const startLogOut = () => {\r\n\treturn (dispatch) => {\r\n\t\tlocalStorage.clear();\r\n\t\tdispatch(logOut());\r\n\t\tdispatch(eventsLogOut());\r\n\t};\r\n};\r\n\r\nconst logOut = () => ({ type: types.authLogout });\r\n","import { useState } from 'react';\r\n\r\nexport const useForm = (initialState = {}) => {\r\n\tconst [values, setValues] = useState(initialState);\r\n\r\n\tconst reset = () => {\r\n\t\tsetValues(initialState);\r\n\t};\r\n\r\n\tconst handleInputChange = ({ target }) => {\r\n\t\tsetValues({\r\n\t\t\t...values,\r\n\t\t\t[target.name]: target.value,\r\n\t\t});\r\n\t};\r\n\r\n\treturn [values, handleInputChange, reset];\r\n};\r\n","import React from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport Swal from 'sweetalert2';\r\nimport { startLogin, startRegister } from '../../actions/authActions';\r\nimport { useForm } from '../../hooks/useForm';\r\nimport './login.css';\r\n\r\nconst LoginScreen = () => {\r\n\tconst dispatch = useDispatch();\r\n\tconst [formLoginValues, handleLoginInputChange] = useForm({\r\n\t\tlEmail: 'araceli2@email.com',\r\n\t\tlPassword: '123456',\r\n\t});\r\n\tconst [formRegisterValues, handleRegisterInputChange] = useForm({\r\n\t\trName: 'iva',\r\n\t\trEmail: 'iva@email.com',\r\n\t\trPassword1: '123456',\r\n\t\trPassword2: '123456',\r\n\t});\r\n\r\n\tconst { rName, rEmail, rPassword1, rPassword2 } = formRegisterValues;\r\n\r\n\tconst { lEmail, lPassword } = formLoginValues;\r\n\r\n\tconst handdleLogin = (e) => {\r\n\t\te.preventDefault();\r\n\t\tdispatch(startLogin(lEmail, lPassword));\r\n\t};\r\n\tconst handleRegister = (e) => {\r\n\t\te.preventDefault();\r\n\t\tif (rPassword1 !== rPassword2)\r\n\t\t\treturn Swal.fire('Error', 'Las contraseñas no coinciden', 'error');\r\n\r\n\t\tdispatch(startRegister(rEmail, rPassword1, rName));\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className='container login-container'>\r\n\t\t\t<div className='row'>\r\n\t\t\t\t<div className='col-md-6 login-form-1'>\r\n\t\t\t\t\t<h3>Ingreso</h3>\r\n\t\t\t\t\t<form onSubmit={handdleLogin}>\r\n\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\tclassName='form-control'\r\n\t\t\t\t\t\t\t\tplaceholder='Correo'\r\n\t\t\t\t\t\t\t\tname='lEmail'\r\n\t\t\t\t\t\t\t\tvalue={lEmail}\r\n\t\t\t\t\t\t\t\tonChange={handleLoginInputChange}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\t\t\tclassName='form-control'\r\n\t\t\t\t\t\t\t\tplaceholder='Contraseña'\r\n\t\t\t\t\t\t\t\tname='lPassword'\r\n\t\t\t\t\t\t\t\tvalue={lPassword}\r\n\t\t\t\t\t\t\t\tonChange={handleLoginInputChange}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t<input type='submit' className='btnSubmit' value='Login' />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className='col-md-6 login-form-2'>\r\n\t\t\t\t\t<h3>Registro</h3>\r\n\t\t\t\t\t<form onSubmit={handleRegister}>\r\n\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\tclassName='form-control'\r\n\t\t\t\t\t\t\t\tplaceholder='Nombre'\r\n\t\t\t\t\t\t\t\tname='rName'\r\n\t\t\t\t\t\t\t\tvalue={rName}\r\n\t\t\t\t\t\t\t\tonChange={handleRegisterInputChange}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\ttype='email'\r\n\t\t\t\t\t\t\t\tclassName='form-control'\r\n\t\t\t\t\t\t\t\tplaceholder='Correo'\r\n\t\t\t\t\t\t\t\tname='rEmail'\r\n\t\t\t\t\t\t\t\tvalue={rEmail}\r\n\t\t\t\t\t\t\t\tonChange={handleRegisterInputChange}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\t\t\tclassName='form-control'\r\n\t\t\t\t\t\t\t\tplaceholder='Contraseña'\r\n\t\t\t\t\t\t\t\tname='rPassword1'\r\n\t\t\t\t\t\t\t\tvalue={rPassword1}\r\n\t\t\t\t\t\t\t\tonChange={handleRegisterInputChange}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\t\t\tclassName='form-control'\r\n\t\t\t\t\t\t\t\tplaceholder='Repita la contraseña'\r\n\t\t\t\t\t\t\t\tname='rPassword2'\r\n\t\t\t\t\t\t\t\tvalue={rPassword2}\r\n\t\t\t\t\t\t\t\tonChange={handleRegisterInputChange}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t<input type='submit' className='btnSubmit' value='Crear cuenta' />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\nexport default LoginScreen;\r\n","import React from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { useSelector } from 'react-redux';\r\nimport { startLogOut } from '../../actions/authActions';\r\n\r\nconst NavBar = () => {\r\n\tconst dispatch = useDispatch();\r\n\tconst { name } = useSelector((state) => state.auth);\r\n\tconst handleLogOut = () => {\r\n\t\tdispatch(startLogOut());\r\n\t};\r\n\treturn (\r\n\t\t<div className='navbar navbar-dark bg-dark mb-4'>\r\n\t\t\t<span className='navbar-brand' style={{ textTransform: 'capitalize' }}>\r\n\t\t\t\t{name}\r\n\t\t\t</span>\r\n\t\t\t<button onClick={handleLogOut} className='btn btn-outline-danger'>\r\n\t\t\t\t<i className='fas fa-sign-out-alt'></i>\r\n\t\t\t\t<span> Salir</span>\r\n\t\t\t</button>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default NavBar;\r\n","export const messages = {\r\n\tallDay: 'Todo el día',\r\n\tprevious: '<',\r\n\tnext: '>',\r\n\ttoday: 'Hoy',\r\n\tmonth: 'Mes',\r\n\tweek: 'Semana',\r\n\tday: 'Día',\r\n\tagenda: 'Agenda',\r\n\tdate: 'Fecha',\r\n\ttime: 'Hora',\r\n\tevent: 'Evento',\r\n\tnoEventsInRange: 'No hay eventos en este rango',\r\n\tshowMore: (total) => `+ Ver más (${total})`,\r\n};\r\n","import React from 'react';\r\n\r\nconst CalendarEvent = ({ event }) => {\r\n\tconst { title, user } = event;\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<strong>{title}</strong>\r\n\t\t\t<span>-{user.name}</span>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default CalendarEvent;\r\n","import { types } from '../types/typess';\r\n\r\nexport const uiOpenModal = () => ({\r\n\ttype: types.uiOpenModal,\r\n});\r\n\r\nexport const uiCloseModal = () => ({\r\n\ttype: types.uiCloseModal,\r\n});\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport moment from 'moment';\r\nimport Modal from 'react-modal';\r\nimport DateTimePicker from 'react-datetime-picker';\r\nimport Swal from 'sweetalert2';\r\nimport { uiCloseModal } from '../../actions/uiActions';\r\nimport {\r\n\teventCleanActive,\r\n\teventStartAddNew,\r\n\teventStartUpdate,\r\n} from '../../actions/eventsActions';\r\n\r\nconst customStyles = {\r\n\tcontent: {\r\n\t\ttop: '50%',\r\n\t\tleft: '50%',\r\n\t\tright: 'auto',\r\n\t\tbottom: 'auto',\r\n\t\tmarginRight: '-50%',\r\n\t\ttransform: 'translate(-50%, -50%)',\r\n\t},\r\n};\r\nModal.setAppElement('#root');\r\nconst now = moment().minutes(0).seconds(0).add(1, 'hours');\r\nconst nowPlus1 = now.clone().add(1, 'hours');\r\n\r\nconst initEvent = {\r\n\ttitle: '',\r\n\tnotes: '',\r\n\tstart: now.toDate(),\r\n\tend: nowPlus1.toDate(),\r\n};\r\n\r\n//Inicio del Componente\r\nconst CalendarModal = () => {\r\n\tconst { modalOpen } = useSelector((state) => state.ui);\r\n\tconst { activeEvent } = useSelector((state) => state.calendar);\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst [dateStart, setDateStart] = useState(now.toDate());\r\n\tconst [dateEnd, setDateEnd] = useState(nowPlus1.toDate());\r\n\tconst [titleValid, setTitleValid] = useState(true);\r\n\t//Estado del Formulario\r\n\tconst [formValues, setFormValues] = useState(initEvent);\r\n\tconst { notes, title, start, end } = formValues;\r\n\r\n\tuseEffect(() => {\r\n\t\tif (activeEvent) {\r\n\t\t\tsetFormValues(activeEvent);\r\n\t\t} else {\r\n\t\t\tsetFormValues(initEvent);\r\n\t\t}\r\n\t}, [activeEvent, setFormValues]);\r\n\r\n\tconst handleInputChange = ({ target }) => {\r\n\t\tsetFormValues({\r\n\t\t\t...formValues,\r\n\t\t\t[target.name]: target.value,\r\n\t\t});\r\n\t};\r\n\r\n\t// Cerrar modal\r\n\tconst closeModal = () => {\r\n\t\tconsole.log('closing...');\r\n\t\tdispatch(uiCloseModal());\r\n\t\tdispatch(eventCleanActive());\r\n\t\tsetFormValues(initEvent);\r\n\t};\r\n\r\n\tconst handleStartDateChange = (e) => {\r\n\t\tsetDateStart(e);\r\n\t\tsetFormValues({\r\n\t\t\t...formValues,\r\n\t\t\tstart: e,\r\n\t\t});\r\n\t};\r\n\tconst handleEndDateChange = (e) => {\r\n\t\tsetDateEnd(e);\r\n\t\tsetFormValues({\r\n\t\t\t...formValues,\r\n\t\t\tend: e,\r\n\t\t});\r\n\t};\r\n\tconst handleSubmitForm = (e) => {\r\n\t\te.preventDefault();\r\n\t\tconst momentStart = moment(start);\r\n\t\tconst momentEnd = moment(end);\r\n\t\tif (momentStart.isSameOrAfter(momentEnd)) {\r\n\t\t\treturn Swal.fire(\r\n\t\t\t\t'Error',\r\n\t\t\t\t'La fecha de fin debe ser mayor a la fecha de inicio',\r\n\t\t\t\t'error'\r\n\t\t\t);\r\n\t\t}\r\n\t\tif (title.trim().length < 2) {\r\n\t\t\treturn setTitleValid(false);\r\n\t\t}\r\n\r\n\t\t//TODO: Realizar grabacion en DB\r\n\t\tif (activeEvent) {\r\n\t\t\tdispatch(eventStartUpdate(formValues));\r\n\t\t} else {\r\n\t\t\tdispatch(eventStartAddNew(formValues));\r\n\t\t}\r\n\r\n\t\tsetTitleValid(true);\r\n\t\tcloseModal();\r\n\t};\r\n\treturn (\r\n\t\t<Modal\r\n\t\t\tisOpen={modalOpen}\r\n\t\t\t// onAfterOpen={afterOpenModal}\r\n\t\t\tonRequestClose={closeModal}\r\n\t\t\tstyle={customStyles}\r\n\t\t\tcloseTimeoutMS={200}\r\n\t\t\tclassName='modal'\r\n\t\t\toverlayClassName='modal-fondo'\r\n\t\t>\r\n\t\t\t<h1>{activeEvent ? 'Editar evento' : 'Nuevo evento'} </h1>\r\n\t\t\t<hr />\r\n\t\t\t<form className='container' onSubmit={handleSubmitForm}>\r\n\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t<label>Fecha y hora inicio</label>\r\n\t\t\t\t\t<DateTimePicker\r\n\t\t\t\t\t\tonChange={handleStartDateChange}\r\n\t\t\t\t\t\tvalue={dateStart}\r\n\t\t\t\t\t\tclassName='form-control'\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t<label>Fecha y hora fin</label>\r\n\t\t\t\t\t<DateTimePicker\r\n\t\t\t\t\t\tonChange={handleEndDateChange}\r\n\t\t\t\t\t\tvalue={dateEnd}\r\n\t\t\t\t\t\tminDate={dateStart}\r\n\t\t\t\t\t\tclassName='form-control'\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<hr />\r\n\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t<label>Titulo y notas</label>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\tclassName={`form-control ${!titleValid && 'is-invalid'} `}\r\n\t\t\t\t\t\tplaceholder='Título del evento'\r\n\t\t\t\t\t\tname='title'\r\n\t\t\t\t\t\tautoComplete='off'\r\n\t\t\t\t\t\tvalue={title}\r\n\t\t\t\t\t\tonChange={handleInputChange}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<small id='emailHelp' className='form-text text-muted'>\r\n\t\t\t\t\t\tUna descripción corta\r\n\t\t\t\t\t</small>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t<textarea\r\n\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\tclassName='form-control'\r\n\t\t\t\t\t\tplaceholder='Notas'\r\n\t\t\t\t\t\trows='5'\r\n\t\t\t\t\t\tname='notes'\r\n\t\t\t\t\t\tvalue={notes}\r\n\t\t\t\t\t\tonChange={handleInputChange}\r\n\t\t\t\t\t></textarea>\r\n\t\t\t\t\t<small id='emailHelp' className='form-text text-muted'>\r\n\t\t\t\t\t\tInformación adicional\r\n\t\t\t\t\t</small>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<button type='submit' className='btn btn-outline-primary btn-block'>\r\n\t\t\t\t\t<i className='far fa-save'></i>\r\n\t\t\t\t\t<span> Guardar</span>\r\n\t\t\t\t</button>\r\n\t\t\t</form>\r\n\t\t</Modal>\r\n\t);\r\n};\r\n\r\nexport default CalendarModal;\r\n","import React from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { eventCleanActive } from '../../actions/eventsActions';\r\nimport { uiOpenModal } from '../../actions/uiActions';\r\n\r\nconst AddNewFab = () => {\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst handleClicNew = () => {\r\n\t\tdispatch(uiOpenModal());\r\n\t\tdispatch(eventCleanActive());\r\n\t};\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<button className='btn btn-primary fab' onClick={handleClicNew}>\r\n\t\t\t\t<i className='fas fa-plus'></i>\r\n\t\t\t</button>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default AddNewFab;\r\n","import React from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { eventStartDelete } from '../../actions/eventsActions';\r\n\r\nconst DeleteEventFab = () => {\r\n\tconst dispatch = useDispatch();\r\n\tconst handleDelete = () => {\r\n\t\tdispatch(eventStartDelete());\r\n\t};\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<button className='btn btn-danger fab-danger' onClick={handleDelete}>\r\n\t\t\t\t<i className='fas fa-trash'></i>\r\n\t\t\t\t<span> Borrar Evento</span>\r\n\t\t\t</button>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default DeleteEventFab;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport NavBar from '../ui/NavBar';\r\nimport { Calendar, momentLocalizer } from 'react-big-calendar';\r\nimport moment from 'moment';\r\nimport 'moment/locale/es';\r\nimport { messages } from '../../helpers/calendar-messages-es-';\r\nimport 'react-big-calendar/lib/css/react-big-calendar.css';\r\nimport CalendarEvent from './CalendarEvent';\r\nimport CalendarModal from './CalendarModal';\r\nimport { uiOpenModal } from '../../actions/uiActions';\r\nimport {\r\n\teventCleanActive,\r\n\teventSetActive,\r\n\teventStartLoading,\r\n} from '../../actions/eventsActions';\r\nimport AddNewFab from '../ui/AddNewFab';\r\nimport DeleteEventFab from '../ui/DeleteEventFab';\r\n\r\nmoment.locale('es');\r\nconst localizer = momentLocalizer(moment);\r\n\r\n//Inicio del Componente\r\nconst CalendarScreen = () => {\r\n\tconst dispatch = useDispatch();\r\n\tconst { events, activeEvent } = useSelector((state) => state.calendar);\r\n\tconst { uid } = useSelector((state) => state.auth);\r\n\r\n\tconst [lastView, setLastView] = useState(\r\n\t\tlocalStorage.getItem('lastView') || 'month'\r\n\t);\r\n\r\n\tconst onDoubleClick = (e) => {\r\n\t\tconsole.log('abriendo modal');\r\n\t\tdispatch(uiOpenModal());\r\n\t};\r\n\tconst onSelectEvent = (e) => {\r\n\t\tdispatch(eventSetActive(e));\r\n\t};\r\n\tconst onViewChange = (e) => {\r\n\t\tsetLastView(e);\r\n\t\tlocalStorage.setItem('lastView', e);\r\n\t};\r\n\r\n\tconst onSelectSlot = (e) => {\r\n\t\tdispatch(eventCleanActive());\r\n\t};\r\n\r\n\tconst eventStyleGetter = (event, start, end, isSelecter) => {\r\n\t\tconst style = {\r\n\t\t\tbackgroundColor: uid === event.user._id ? '#367cf7' : '#5c1d1d',\r\n\t\t\tborderRadius: '0px',\r\n\t\t\topacity: '0.8',\r\n\t\t\tdisplay: 'block',\r\n\t\t\tcolor: 'white',\r\n\t\t};\r\n\t\treturn {\r\n\t\t\tstyle,\r\n\t\t};\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tdispatch(eventStartLoading());\r\n\t}, [dispatch]);\r\n\treturn (\r\n\t\t<div className='calendar-screen'>\r\n\t\t\t<NavBar />\r\n\t\t\t<Calendar\r\n\t\t\t\tlocalizer={localizer}\r\n\t\t\t\tevents={events}\r\n\t\t\t\tstartAccessor='start'\r\n\t\t\t\tendAccessor='end'\r\n\t\t\t\tstyle={{ height: 500 }}\r\n\t\t\t\tmessages={messages}\r\n\t\t\t\teventPropGetter={eventStyleGetter}\r\n\t\t\t\tonDoubleClickEvent={onDoubleClick}\r\n\t\t\t\tonSelectEvent={onSelectEvent}\r\n\t\t\t\tonView={onViewChange}\r\n\t\t\t\tonSelectSlot={onSelectSlot}\r\n\t\t\t\tselectable={true}\r\n\t\t\t\tview={lastView}\r\n\t\t\t\tcomponents={{\r\n\t\t\t\t\tevent: CalendarEvent,\r\n\t\t\t\t}}\r\n\t\t\t/>\r\n\r\n\t\t\t<AddNewFab />\r\n\t\t\t{activeEvent && <DeleteEventFab />}\r\n\r\n\t\t\t<CalendarModal />\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default CalendarScreen;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { Route, Redirect } from 'react-router-dom';\r\n\r\nexport const PrivateRoute = ({\r\n\tisAuthenticated,\r\n\tcomponent: Component,\r\n\t...rest\r\n}) => {\r\n\tlocalStorage.setItem('lastPath', rest.location.pathname);\r\n\r\n\treturn (\r\n\t\t<Route\r\n\t\t\t{...rest}\r\n\t\t\tcomponent={(props) =>\r\n\t\t\t\tisAuthenticated ? <Component {...props} /> : <Redirect to='/login' />\r\n\t\t\t}\r\n\t\t/>\r\n\t);\r\n};\r\n\r\nPrivateRoute.propTypes = {\r\n\tisAuthenticated: PropTypes.bool.isRequired,\r\n\tcomponent: PropTypes.func.isRequired,\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { Route, Redirect } from 'react-router-dom';\r\n\r\nexport const PublicRoute = ({\r\n\tisAuthenticated,\r\n\tcomponent: Component,\r\n\t...rest\r\n}) => {\r\n\treturn (\r\n\t\t<Route\r\n\t\t\t{...rest}\r\n\t\t\tcomponent={(props) =>\r\n\t\t\t\t!isAuthenticated ? <Component {...props} /> : <Redirect to='/' />\r\n\t\t\t}\r\n\t\t/>\r\n\t);\r\n};\r\n\r\nPublicRoute.propTypes = {\r\n\tisAuthenticated: PropTypes.bool.isRequired,\r\n\tcomponent: PropTypes.func.isRequired,\r\n};\r\n","import React, { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { BrowserRouter as Router, Switch, Redirect } from 'react-router-dom';\r\nimport { startChecking } from '../actions/authActions';\r\nimport LoginScreen from '../components/auth/LoginScreen';\r\nimport CalendarScreen from '../components/calendar/CalendarScreen';\r\nimport { PrivateRoute } from './PrivateRoute';\r\nimport { PublicRoute } from './PublicRoute';\r\n\r\nconst AppRouter = () => {\r\n\tconst dispatch = useDispatch();\r\n\tconst { checking, uid } = useSelector((state) => state.auth);\r\n\tuseEffect(() => {\r\n\t\tdispatch(startChecking());\r\n\t}, [dispatch]);\r\n\r\n\tif (checking) {\r\n\t\treturn <h5>Espere....</h5>;\r\n\t}\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Router>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Switch>\r\n\t\t\t\t\t\t<PublicRoute\r\n\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\tpath='/login'\r\n\t\t\t\t\t\t\tcomponent={LoginScreen}\r\n\t\t\t\t\t\t\t//Doble negacion para evaluar el string o null, si tiene algo es true, si es vacio es false, si es null es false\r\n\t\t\t\t\t\t\tisAuthenticated={!!uid}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<PrivateRoute\r\n\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\tpath='/'\r\n\t\t\t\t\t\t\tcomponent={CalendarScreen}\r\n\t\t\t\t\t\t\tisAuthenticated={!!uid}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Redirect to='/' />\r\n\t\t\t\t\t</Switch>\r\n\t\t\t\t</div>\r\n\t\t\t</Router>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default AppRouter;\r\n","import { types } from '../types/typess';\r\n\r\nconst initialState = {\r\n\tchecking: true,\r\n\t// uid:null,\r\n\t// name:null\r\n};\r\n\r\nexport const authReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase types.authLogin:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\t...action.payload,\r\n\t\t\t\tchecking: false,\r\n\t\t\t};\r\n\r\n\t\tcase types.authCheckinFinish:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tchecking: false,\r\n\t\t\t};\r\n\t\tcase types.authLogout:\r\n\t\t\treturn {\r\n\t\t\t\tchecking: false,\r\n\t\t\t};\r\n\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n","import { types } from '../types/typess';\r\n\r\n// {\r\n// \tid: 'sdkfjsbgjbf',\r\n// \ttitle: 'CumpleañosJEfe',\r\n// \tstart: moment().toDate(),\r\n// \tend: moment().add(2, 'hours').toDate(),\r\n// \tbgColor: '#fafafa',\r\n// \tnotes: 'comprar pastel',\r\n// \tuser: {\r\n// \t\t_id: '123',\r\n// \t\tname: 'Ivan',\r\n// \t},\r\n// }\r\n\r\nconst initialState = {\r\n\tevents: [],\r\n\tactiveEvent: null,\r\n};\r\n\r\nexport const calendarReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase types.eventSetActive:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tactiveEvent: action.payload,\r\n\t\t\t};\r\n\t\tcase types.eventCleanActive:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tactiveEvent: null,\r\n\t\t\t};\r\n\t\tcase types.eventAddNew:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tevents: [...state.events, action.payload],\r\n\t\t\t};\r\n\r\n\t\tcase types.eventUpdated:\r\n\t\t\tconsole.log(action.payload);\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tevents: state.events.map((e) =>\r\n\t\t\t\t\te.id === action.payload.id ? action.payload : e\r\n\t\t\t\t),\r\n\t\t\t};\r\n\t\tcase types.eventDeleted:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tevents: state.events.filter((e) => e.id !== state.activeEvent.id),\r\n\t\t\t\tactiveEvent: null,\r\n\t\t\t};\r\n\r\n\t\tcase types.eventsLoaded:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tevents: [...action.payload],\r\n\t\t\t};\r\n\t\tcase types.eventLogOut:\r\n\t\t\treturn {\r\n\t\t\t\t...initialState,\r\n\t\t\t};\r\n\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n","import { types } from '../types/typess';\r\nconst initialState = {\r\n\tmodalOpen: false,\r\n};\r\n\r\nexport const uiReducers = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase types.uiOpenModal:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tmodalOpen: true,\r\n\t\t\t};\r\n\t\tcase types.uiCloseModal:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tmodalOpen: false,\r\n\t\t\t};\r\n\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n","import { combineReducers } from 'redux';\r\nimport { authReducer } from './authReducer';\r\nimport { calendarReducer } from './calendarReducer';\r\nimport { uiReducers } from './uiReducers';\r\n\r\nexport const rootReducer = combineReducers({\r\n\tui: uiReducers,\r\n\tcalendar: calendarReducer,\r\n\tauth: authReducer,\r\n\t//TODO: calendarReducer,\r\n});\r\n","import { applyMiddleware, createStore } from 'redux';\r\n\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\nimport thunk from 'redux-thunk';\r\nimport { rootReducer } from '../reducers/rootReducer';\r\n\r\nexport const store = createStore(\r\n\trootReducer,\r\n\tcomposeWithDevTools(applyMiddleware(thunk))\r\n);\r\n","import React from 'react';\r\nimport AppRouter from './routers/AppRouter';\r\nimport { Provider } from 'react-redux';\r\nimport { store } from './store/store';\r\n\r\nconst ScheduleApp = () => {\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Provider store={store}>\r\n\t\t\t\t<AppRouter />\r\n\t\t\t</Provider>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default ScheduleApp;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport ScheduleApp from './ScheduleApp';\nimport './styles.css';\n\nReactDOM.render(\n\t<div>\n\t\t<ScheduleApp />\n\t</div>,\n\tdocument.getElementById('root')\n);\n"],"sourceRoot":""}